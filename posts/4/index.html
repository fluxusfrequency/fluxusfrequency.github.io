
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fluxus Frequency</title>
  <meta name="author" content="Ben Lewis">

  
  <meta name="description" content="This week at gSchool, we started a new rails project called Fourth Meal. The assignment&rsquo;s basic premise is to build a multi-tenant platform for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://fluxusfrequency.github.io/posts/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Fluxus Frequency" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
	<div class="header-title"><a href="/">Fluxus Frequency</a></div>


	<br><div class="header-subtitle">How I Hacked The Mainframe</div>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:fluxusfrequency.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/12/06/multitenancy-and-legacy-code/">Multitenancy and Legacy Code</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-12-06T09:03:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week at gSchool, we started a new rails project called <a href="http://tutorials.jumpstartlab.com/projects/fourth_meal.html">Fourth Meal</a>. The assignment&rsquo;s basic premise is to build a multi-tenant platform for restaurant ordering, along the lines of <a href="https://www.grubhub.com/">GrubHub</a>. This is our first time dealing with multi-tenancy. It&rsquo;s also the first time that we are building from a legacy code base - we&rsquo;re using our last projects. Mine was <a href="http://onoburrito.herokuapp.com">OnoBurrito</a>, and that&rsquo;s the project my group chose to build on for this assignment. Finally, this will also be the first time we optimize our apps for performance.</p>

<h2>Project Management</h2>

<p>We&rsquo;re using Pivotal Tracker very seriously in Fourth Meal, with our instructors pretending to be clients that have hired us to build this app. I&rsquo;ve found Tracker restrictive in the past. But I think I felt that way because I was using it as more of a to-do list than a project management tool. After having Jeff help us write about 13 clear stories yesterday, I feel a lot more positive about using it to drive my group&rsquo;s progress. At this point, Tracker is helping me feel more organized. I can translate stories into tests and use Capybara to drive development &ldquo;from the top down&rdquo;.</p>

<h2>Legacy Code</h2>

<p>Although we&rsquo;re working from code that I had a large part in writing, I feel like I&rsquo;m floundering to turn OnoBurrito into a platform. There are a lot of things I would do differently if I were to build the app over again. For example, the category views are stuck inside of the item views, making it really hard to separate them. We also used Active Admin before, so we&rsquo;ve had to rip it out and start the admin panel over again. My group decided to retrofit the admin part of Billy&rsquo;s restaurant onto Ono Burrito, and it&rsquo;s been kind of tricky to get everything working. Currently, I&rsquo;m having a lot of trouble getting carts and orders working. It&rsquo;s hard to decide which of the pieces to store in the session, application, and database.</p>

<h2>Class Progress</h2>

<p>We&rsquo;re now just past the halfway mark for gSchool. Although I can see how other programs would stop here and send their students out into the marketplace, I&rsquo;m very glad that we have some time left to practice proper Test Driven Development, learn about scaling and performance optimization, and hone our Rails chops.</p>

<p>I do feel like I&rsquo;m starting to lose momentum a little bit. I was going full-bore every day (except weekends) up until now, but I could feel that burnout was around the corner. So I&rsquo;ve throttled back a little bit, taking time to cook, read, and exercise so I feel more balanced. I&rsquo;m still totally dedicated to being the best developer I can be by the end of the program, and I think that these changes will help me do that. Meanwhile, I feel like a lot of my classmates have been making amazing progress. No matter who I work with lately, I feel like I am collaborating with a confident, smart, and capable programmer.</p>

<h2>Young Entrepreneurs</h2>

<p>Last night we kicked off a project with Young Entrepreneurs. Several school-aged children came to Galvanize and met with us to get help building a website for their businesses. I&rsquo;m in a small group with Nathaniel and Meeka, two classmates that I really enjoy working with. We&rsquo;re helping a 15-year-old entrepreneur named Jonah, who runs a local snack company. It&rsquo;s a little disheartening that we won&rsquo;t be able to use Sinatra or Rails to help him him, because he&rsquo;ll need the ability to update his site, and we likely don&rsquo;t have time to build a content management system. We&rsquo;ll probably help him get going on <a href="http://www.wix.com">Wix</a>, or a similar platform.</p>

<p>I feel a little conficted about this project. In a way, the kickoff was really bad timing, because I&rsquo;m feeling so overwhelmed by Fourth Meal. On the other hand, it&rsquo;s nice to get back to working with kids. That&rsquo;s the thing I miss most about my previous career as a teacher. More importantly to me, I&rsquo;ve been focusing on trying to find ways to be more generous, so this is a good opportunity to practice doing that.</p>

<h2>New Mentor</h2>

<p>I met my new mentor, Justin Smestad, this week. He&rsquo;s a maintainer of the <a href="https://github.com/hassox/warden">Warden</a> gem, a security specialist, and a musician. I think it&rsquo;s going to be a good fit. I&rsquo;ll miss my old mentor, Mike Pack, but I think that he&rsquo;s willing to keep working with me too. Now I&rsquo;ll have twice the support!</p>

<h2>Overall</h2>

<p>I&rsquo;m feeling really excited about web development. Thanksgiving break really helped me rest up and feel ready to tackle more. I am learning a lot of new things all the time, and I love it. On the other hand, I am feeling somewhat overwhelmed by Rails, and beginning to consider the job search makes me a little anxious. In the end, I&rsquo;m optimistic. I think that the coming weekend will help me get grounded, and I&rsquo;ll come back next week ready to get some good work done on Fourth Meal.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/12/01/practical-object-oriented-design-in-ruby-takeaways/">Practical Object-Oriented Design in Ruby - Takeaways</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-12-01T06:10:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="right" src="http://s5.postimg.org/yh888oh3b/POODR.jpg" width="250" height="327" title="Practical Object-Oriented Design in Ruby" alt="The cover of a programming book"></p>

<p>I just finished reading <a href="http://www.poodr.com/">Practical Object-Oriented Design in Ruby</a> by Sandi Metz.</p>

<p>Here were my takeaways.</p>

<h2>Object-Oriented Design</h2>

<ul>
<li>Plan your application structure around the messages, rather than the objects.</li>
<li>Objects should be seen as black boxes that can receive and send specific messages.</li>
<li>Use <a href="http://www.tracemodeler.com/articles/a_quick_introduction_to_uml_sequence_diagrams/">UML sequence diagrams</a> to help clarify architectural decisions before writing code.</li>
<li>Defer design decisions as long as you can, waiting for more information. Having three concrete examples of an object before commiting to a solution is best.</li>
</ul>


<h3>Embracing Change</h3>

<ul>
<li>Write code that is: transparent, reasonable, usable, exemplary (TRUE).</li>
<li>Write classes and methods that have only a single responsibility (Single Reponsibility Principle).</li>
<li>Subtypes should be substitutable for their supertypes (Liskov Substitution Principle).</li>
</ul>


<h3>Dependencies</h3>

<ul>
<li>Dependencies are best managed through Injection, Isolation, and Reliance on Abstractions.</li>
<li>Dependency Injection: when you have a dependency, inject it into your object as an attribute, without calling another class directly. Then your object can use any other (duck-typed) object that responds to the needed method call.</li>
<li>Isolation: if you must keep a dependency, isolate it from other code to make it easy to spot and refactor.</li>
<li>Reliance on Abstractions: objects should depend on things that change less than they do (abstractions).</li>
</ul>


<h3>Interfaces</h3>

<ul>
<li>Minimize an object&rsquo;s need for context to get its job done.</li>
<li>Write public interfaces that are explicitly identified, are about <em>what</em> more than <em>how</em>, have names that will not change, and take initialization attributes in a hash (so that order and presence are not required).</li>
<li>Law of Demeter: don’t reach through a class to get at another class’s data or methods.</li>
</ul>


<h3>Duck-Types</h3>

<ul>
<li>Sometimes an object expects many different subjects to all respond to the same method. Even if they are of different classes, they all respond. These are duck-types.</li>
</ul>


<h3>Three Approaches to OO Architecture</h3>

<ol>
<li><p>Use inheritance for <em>is-a</em> relationships. This means using classical inheritance and module mix-ins. With this approach, big changes can be made with little code, which is a double-edged sword. “Inheritance is specialization”. - Bertrand Meyer</p></li>
<li><p>Use duck-types for <em>behaves-like-a</em> relationships. Use when there is a <em>role</em> that needs to be filled (e.g. <em>schedulable</em>).</p></li>
<li><p>Use composition for <em>has-a</em> relationships. Composition is modular and flexible, but harder to comprehend all at once. “Use composition when the behavior is more than the sum of its parts”. - Grady Booch</p></li>
</ol>


<h3>Testing</h3>

<ul>
<li>Don’t write tightly coupled tests.</li>
<li>Test the right thing only once, in the right place.</li>
<li>Concentrate on incoming and outgoing messages that cross an object’s boundaries. That is, test its most stable part: its interface.</li>
<li>Incoming messages should be tested for the state they return. Use <em>object doubles</em> for this, when appropriate.</li>
<li>Outgoing command messages should be tested to ensure they are sent. Use <em>mocks</em> for this.</li>
<li>Outgoing query essays should not be tested.</li>
<li>Testing duck-types: write a module and mix it into the test for each of the duck-types.</li>
</ul>


<h2>Conclusion</h2>

<p>I really liked this book. It clarified some of the little parts of writing code that had previously eluded me. I can&rsquo;t wait to put some of its principles into practice!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/22/full-stack-javascript/">Full Stack Javascript</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-22T11:12:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>UPDATE:</h2>

<p>I now have a working version of JetFuel Express live on Heroku at <a href="http://jfx.herokuapp.com/">http://jfx.herokuapp.com</a>. Please check it out!</p>

<p>This was JavaScript week at gSchool. For me, this was great. As I&rsquo;ve been learning Ruby, I&rsquo;ve been working on a lot of JavaScript on the side. From what I hear, knowing JS is going to be indispensible as I enter the professional development world. Having done a bit of browser scripting with vanilla JS and jQuery in the past, I&rsquo;ve recently been digging into <a href="http://fluxusfrequency.github.io/blog/2013/10/26/so-many-javascript-libraries/">libraries and frameworks</a>. In the last couple of weeks, I&rsquo;ve been focusing really hard on Backbone.js in particular, and this week gave me a chance to apply my skills with it to build a project. As I went along, I discovered quite a few other new tools written in JavaScript. After hacking away all week, my key takeaway was this:</p>

<p>You can develop full stack with Javascript.</p>

<p>I decided to try to build <a href="http://tutorials.jumpstartlab.com/projects/jet_fuel.html">JetFuel</a>, a Jumpstart Lab project in which you clone <a href="https://bitly.com/">Bitly</a>. But instead of building it with ActiveRecord and Sinatra, I decided to build it all in JS.</p>

<p>At the moment, I have a basic link shortening service working. Here&rsquo;s a glimpse of what it looks like:</p>

<p><img src="http://s5.postimg.org/ihxudv1xj/Jet_Fuel_Express_Production_Shot.png" title="JetFuel Express" alt="A Bitly clone website in production"></p>

<p>And here are the technologies I&rsquo;m using:</p>

<h2>The App</h2>

<h3><a href="http://backbonejs.org/">Backbone.js</a></h3>

<p>I&rsquo;ve been working really hard at learning Backbone, a client-side MVC (actually MV*) library, over the past few weeks. I had started to look into Ember.js, and was having a hard time. My mentor, Mike Pack (who works at <a href="http://modeset.com/">Mode Set</a>), suggested looking into Backbone first, because: &ldquo;you&rsquo;re going to burn a lot of mental cycles trying to learn Ember and Rails at the same time&rdquo;. This has turned out to be some really good advice. For me, Backbone fairly intuitive, yet still quite challenging to learn.</p>

<p>I did a few tutorials. I found this <a href="http://railscasts.com/episodes/323-backbone-on-rails-part-1">RailsCasts</a> one to be the most approachable. This <a href="https://tutsplus.com/course/backbone-on-rails/">Nuttuts+ Premium Tutorial</a> was interesting. It was written with Coffeescript and Handlebars. There were <a href="http://coenraets.org/blog/2011/12/backbone-js-wine-cellar-tutorial-part-1-getting-started/">some</a> <a href="https://www.youtube.com/watch?v=FZSjvWtUxYk">others</a> that were less remarkable, but they still helped me get familiar with the library.</p>

<p>I still felt like I needed to understand more, so I checked out the book <a href="http://addyosmani.github.io/backbone-fundamentals/">Developing Backbone.js Applications</a> by Addy Osmani, available free online. It covers many Backbone topics, and has quite a few tutorials. In the first one, it walks you through building a simple to-do app called <a href="http://todomvc.com/">TodoMVC</a> in Backbone.</p>

<p>My favorite tutorial from the book was the <a href="http://addyosmani.github.io/backbone-fundamentals/#exercise-2-book-library---your-first-restful-backbone.js-app">Book Library</a> tutorial. It really makes it clear how to use Backbone to talk to an API. It also teaches you build that API in Express.js. It was essentially the inspiration for my app.</p>

<p>Backbone can be really hard to debug. The value of the keyword &lsquo;this&rsquo; can get kind of tricky, in particular. For example, in my UrlsView class, the value of &lsquo;this&rsquo; shifts from the Backbone View object to the urlCollection, so I have to assign it to &lsquo;that&rsquo; before passing it into the callback function. This was a subtle problem that was breaking my view, until Mike helped me fix it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">jetfuelexpress</span> <span class="o">=</span> <span class="nx">jetfuelexpress</span> <span class="o">||</span> <span class="p">{};</span>
</span><span class='line'>
</span><span class='line'><span class="nx">jetfuelexpress</span><span class="p">.</span><span class="nx">UrlsView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;.url-list&#39;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">initialUrls</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">urlCollection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jetfuelexpress</span><span class="p">.</span><span class="nx">UrlCollection</span><span class="p">();</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">urlCollection</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">reset</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">that</span><span class="p">.</span><span class="nx">fetched</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">listenTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">urlCollection</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderUrl</span><span class="p">);</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">listenTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">urlCollection</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here&rsquo;s a look at how I built the rest of my stack:</p>

<h2>The Database</h2>

<h3><a href="http://www.mongodb.org/">MongoDB</a></h3>

<p>I&rsquo;m using of MongoDB to store my data. It plays nicely with my other components, since it stores documents in a JSON-like format. It&rsquo;s also handy that it uses JavaScript internally on the server-side, and has a shell that&rsquo;s based on JS. As a database, it feels a little crazy, because it doesn&rsquo;t auto=increment an id attribute like Postgres. I like it though. It&rsquo;s fast and flexible. My server interfaces with the database via:</p>

<h3><a href="http://mongoosejs.com/">Mongoose.js</a></h3>

<p>It&rsquo;s summed up well on the Mongoose website. Mongoose is a &ldquo;MongoDB object modeling tool designed to work in an asynchronous environment&rdquo;. It&rsquo;s like DataMapper or ActiveRecord in Ruby. It has some really powerful validations baked in:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">UrlSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">originalUrl</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">validate</span> <span class="o">:</span> <span class="p">[</span>
</span><span class='line'>            <span class="kd">function</span><span class="p">(</span><span class="nx">u</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">u</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^((http(?:s)?\:\/\/)?[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*\.[a-zA-Z]{2,6}(?:\/?|(?:\/[\w\-]+)*)(?:\/?|\/\w+\.[a-zA-Z]{2,4}(?:\?[\w]+\=[\w\-]+)?)?(?:\&amp;[\w]+\=[\w\-]+)*)$/</span><span class="p">);</span> <span class="p">},</span>
</span><span class='line'>            <span class="s1">&#39;Visits must be positive!&#39;</span><span class="p">]</span> <span class="p">},</span>
</span><span class='line'>  <span class="nx">slug</span>        <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span><span class='line'>  <span class="nx">active</span>      <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">Boolean</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span><span class='line'>  <span class="nx">visits</span>      <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">Number</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">validate</span> <span class="o">:</span> <span class="p">[</span>
</span><span class='line'>            <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">v</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">},</span>
</span><span class='line'>            <span class="s1">&#39;Visits must be positive!&#39;</span><span class="p">]</span> <span class="p">},</span>
</span><span class='line'>  <span class="nx">userId</span>      <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span><span class='line'>  <span class="nx">createdDate</span> <span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">Date</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h2>The Server</h2>

<h3><a href="http://nodejs.org/">Node.js</a></h3>

<p>Built on Google&rsquo;s V8 JavaScript engine, Node is a super fast platform that compiles JS directly to the hardware without having to be interpreted. It has &ldquo;a built-in HTTP server library, making it possible to run a web server without the use of external software&rdquo;.</p>

<h3><a href="http://expressjs.com/%E2%80%8E">Express.JS</a></h3>

<p>This lovely framework is the foundation of my backend. It is architecturally based on Sinatra, and is very similar to work with. It was really easy to get a project up and running quickly in Express using Node Package Manager (see below). Since it&rsquo;s built on Node, it is very fast. I used it to set up an API server to send and recieve JSON requests from my front end.</p>

<h2>The Tests</h2>

<h3><a href="http://pivotal.github.io/jasmine/">Jasmine-Node</a></h3>

<p>We used this testing framework quite a bit in class for <a href="http://exercism.io/">Exercism</a> exercises. It felt like a natural choice. Although I am usually more comfortable with &lsquo;assert&rsquo; style test statements like you find in Minitest, I found Jasmine to be pretty intuitive. Here&rsquo;s an example of one of my tests:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;api route&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">beforeEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">Url</span><span class="p">.</span><span class="nx">remove</span><span class="p">({},</span> <span class="kd">function</span><span class="p">(){});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should respond successfully with to an API request&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">request</span><span class="p">(</span><span class="s2">&quot;http://localhost:3000/api&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">).</span><span class="nx">toContain</span><span class="p">(</span><span class="s2">&quot;JetFuelExpress API is running!&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span><span class="nx">error</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">done</span><span class="p">();</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h3><a href="http://visionmedia.github.io/mocha/">Mocha</a></h3>

<p>A couple days into this project, I was tweeting about what I was up to, and an Express.js dev tweeted back at me, suggesting I check out his <a href="http://webapplog.com/expressworks/">Express.js tutorials</a>. He also recommended the Mocha testing framework. I haven&rsquo;t had a chance to dig in yet, but it looks promising. The website says that you can use your favorite style of assertion (&lsquo;should&rsquo;, &lsquo;expect&rsquo;, or &lsquo;assert&rsquo;) by loading different libraries - Chai, Should.js, Expect.js, or Better Assert.</p>

<h3><a href="http://zombie.labnotes.org/">Zombie.js</a></h3>

<p>I was looking around for some kind of acceptance test solution along the lines of Capybara. I couldn&rsquo;t really find anything I liked, but I did stumble on this &ldquo;headless browser&rdquo; testing framework. Although it looks promising, I&rsquo;ve had a lot of trouble making it work the way I want. I wouldn&rsquo;t really recommend it, unless you have extra time to figure out how to make it do what you want.</p>

<h2>The View</h2>

<h3><a href="http://handlebarsjs.com/">Handlebars.js</a></h3>

<p>After giving a lightning talk about <a href="http://mustache.github.io/">Mustache</a> a few weeks ago, I just had to try Handlebars for this project. It went pretty well, as long as I didn&rsquo;t try to inject anything that was null into my templates. When I did that, it killed the server.</p>

<h3><a href="http://www.getbootstrap.com">Bootstrap</a></h3>

<p>Because I was already in over my head with all of these JavaScript libraries, I decided to punt on the design for this one. I bought a template from <a href="http://wrapbootstrap.com/">Wrap Bootstrap</a>.</p>

<h2>Bits and Pieces</h2>

<h3><a href="http://gruntjs.com/">Grunt.js</a></h3>

<p>Having a browser fetching 18 JavaScript files can be slow, so it&rsquo;s nice to uglify and concatenate them all into one big file. Grunt can automate this task for you. It&rsquo;s sort of like Rake in Ruby. Here&rsquo;s what that looked like. I copied the code from gSchool[0] student Raphael Weiner&rsquo;s <a href="https://github.com/raphweiner/elefeely-ui">Elefeely UI</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">grunt</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
</span><span class='line'>    <span class="nx">connect</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">server</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">options</span><span class="o">:</span> <span class="p">{</span> <span class="nx">port</span><span class="o">:</span> <span class="s2">&quot;3000&quot;</span><span class="p">,</span>
</span><span class='line'>                   <span class="nx">hostname</span><span class="o">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
</span><span class='line'>                   <span class="nx">keepalive</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="nx">uglify</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">build</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>          <span class="s1">&#39;main.js&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;main.js&#39;</span><span class="p">]</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="nx">concat</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s1">&#39;src&#39;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;public/javascripts/lib/jquery-1.10.1.min.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/lib/json3.min.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/lib/handlebars.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/lib/underscore-min.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/lib/backbone-min.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/app.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/routers/router.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/models/url_model.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/collections/url_collection.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/app_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/header_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/footer_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/shorten_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/home_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/url_view.js&quot;</span><span class="p">,</span>
</span><span class='line'>                <span class="s2">&quot;public/javascripts/views/urls_view.js&quot;</span><span class="p">],</span>
</span><span class='line'>        <span class="s1">&#39;dest&#39;</span><span class="o">:</span> <span class="s1">&#39;main.js&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">&#39;grunt-contrib-connect&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">&#39;grunt-contrib-concat&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">&#39;grunt-contrib-uglify&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;concat&#39;</span><span class="p">,</span> <span class="s1">&#39;uglify&#39;</span><span class="p">]);</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;build&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Node Package Manager (NPM)</h3>

<p>I really like how easy it is to install Node.js dependencies. I&rsquo;ve been spoiled with Bundle, so it felt comfortable to be able to add things I needed with ease. You just declare your dependencies in a package.json file in your application root, then run &lsquo;npm install&rsquo;. The package file is in JSON, so it&rsquo;s not as pretty as a Gemfile, but it will give you all the things you need. Here&rsquo;s what mine looks like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;JetFuelExpress&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;version&quot;</span><span class="o">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;A url shortening service&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;private&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;start&quot;</span><span class="o">:</span> <span class="s2">&quot;node app.js&quot;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;express&quot;</span><span class="o">:</span> <span class="s2">&quot;3.4.4&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;jade&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;less-middleware&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;~0.4.9&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;request&quot;</span><span class="o">:</span> <span class="s2">&quot;2.27.0&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;mongoose&quot;</span><span class="o">:</span> <span class="s2">&quot;~3.5.5&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;grunt&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;grunt-contrib-connect&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;grunt-contrib-concat&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="s2">&quot;grunt-contrib-uglify&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Wrapping Up</h2>

<p>Coming to JS app development from Ruby, I felt really uncomfortable at first. There are <strong><em>so</em></strong> many JavaScript libraries and frameworks. I was pretty sure I was in over my head. But somehow I held it together. I think it&rsquo;s because JS has components that serve the same functions as certain Ruby gems:</p>

<p>Mongoose is kind of like ActiveRecord.</p>

<p>Express  is kind of like Sinatra.</p>

<p>Jasmine  is kind of like RSpec.</p>

<p>Zombie   is kind of like Capybara.</p>

<p>Grunt    is kind of like Rake.</p>

<p>NPM      is kind of like Bundle.</p>

<p>Backbone isn&rsquo;t really like anything, but at least its MV* pattern is close enough to Rails that I feel at home.</p>

<p>I saw this <a href="http://coding.smashingmagazine.com/2013/11/21/introduction-to-full-stack-javascript/">cool article</a> in the JavaScript Weekly newsletter today. Reading it made me understand what I&rsquo;d been learning all week: full stack JavaScript development. Up until then, I hadn&rsquo;t quite seen it for what it was.</p>

<p>JS is not as friendly an environment as Ruby, where you get to use intuitive syntax, the community is better established, and there are lots and lots of gems available. But it is very fast and scalable, and at least the components feel familiar when transferring from Sinatra and Rails.</p>

<p>I&rsquo;m looking foward to continuing with JetFuel Express. It&rsquo;s been a good project for extending my understanding of JavaScript.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/18/dinner-dash-complete/">Dinner Dash Complete</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-18T08:12:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last Thursday, my group and I wrapped up the <a href="http://tutorials.jumpstartlab.com/projects/dinner_dash.html">Dinner Dash</a> tutorial we were working on. It was essentially the website for a restaurant with an administrative back end.</p>

<p>Here&rsquo;s a link to our <a href="http://onoburrito.herokuapp.com/">Dinner Dash Project</a>.</p>

<p><img src="http://s5.postimg.org/5ddkt77uv/Ono_Burrito_Website_Screenshot.png" title="Ono Burrito" alt="A Ruby on Rails website"></p>

<p>I learned a lot. Aside from this being my first full-blown Rails project, I discovered many other useful things about Rails projects along the way.</p>

<h2>Rails Gems</h2>

<p>Here are some of the technologies I tried out for the first time</p>

<ul>
<li><p><a href="http://sass-lang.com/">SASS/CSS</a>. I intentionally spent a lot of time on the front end in this project. Although I feel strong in HTML5/CSS3, I would really like to get better at design. Because of this, I worked hard on building up the view <strong><em>without Bootstrap</em></strong>, using partials and SCSS to make things cleaner. I was also reading <a href="http://www.therailsview.com/">The Rails View</a>, and tried to incorporate lessons learned from it into what I was doing.</p></li>
<li><p><a href="http://guides.rubyonrails.org/">The Rails Guides</a>. After losing my mind trying to figure out how to work with form_for during the first week of the project, I discovered the Rails Guides. I read all of the ActiveRecord and ActionView documentation over the weekend, and felt a lot more confident afterwards. The Rails Guides rock!</p></li>
<li><p><a href="http://www.activeadmin.info/">Active Admin</a>. This little number let us add an administrative backend to our app with next to no effort. It was kind of cheating to use it here, but it was also really cool to find out about. It may come it very handy in the future.</p></li>
<li><p><a href="https://github.com/nixme/jazz_hands">Jazz Hands</a>, a gem that improves the Rails Console by making it Pry-based, and adding pretty print to make it easier to look through data.</p></li>
<li><p><a href="https://github.com/colszowka/simplecov">Simplecov</a>. This is a great way to check your test coverage. I&rsquo;m somewhat ashamed to admit that our project was only about 69% covered.</p></li>
<li><p><a href="https://github.com/stympy/faker">Faker</a>. Made it easy to generate seed data for our database.</p></li>
<li><p><a href="https://github.com/evrone/quiet_assets">Quiet Assets</a>. I got pretty tired of looking at the assets in Guard every time I ran a test. Quiet Assets made the server logs a lot easier to look at.</p></li>
</ul>


<h2>Soft Skills</h2>

<p>One of the most challenging aspects of the project for me was managing the social aspect of this project. Since I was percieved as the strongest member of our group programming-wise, the others looked to me for guidance. But I am not a natural leader. Although I was able to chart our best course for finishing the project, I didn&rsquo;t do a great job of checking in with everyone emotionally. At the end, I found out that one member of my group felt left out and behind. In the future, when I lead, I will work to make more space for people to express how things are going, not just in terms of code progress, but also how they&rsquo;re feeling about the project.</p>

<p>We also used <a href="https://www.pivotaltracker.com/">Pivotal Tracker</a>. This was a first for me. Although I liked learning to use Gherkin, I wasn&rsquo;t wild about the application&rsquo;s UI. We ended up switching to Milestones and Issues on Github for the last part of the project.</p>

<p>However, looking back now, I actually think that using Pivotal Tracker did improve my experience, compared with the previous project. I&rsquo;ll definitely give it another go for the next project. I would really like to try translating the Tracker stories into Capybara or Cucumber tests right out of the gate.</p>

<h2>What&rsquo;s Next</h2>

<p>This week, we&rsquo;ll be working on JavaScript. I&rsquo;m really excited about this, because I&rsquo;ve been working hard at it on the side. Right now I&rsquo;m working through Addy Osmani&rsquo;s <a href="http://addyosmani.github.io/backbone-fundamentals/">Developing Backbone.js Applications</a>, and I&rsquo;m loving it. I&rsquo;m also building a Backbone app with a Rails API with my mentor as a side project.</p>

<p>After Thanksgiving, we&rsquo;ll be building a multi-tenant platform based on Dinner Dash: <a href="http://tutorials.jumpstartlab.com/projects/fourth_meal.html">Fourth Meal</a>. It looks intimidating, but I&rsquo;m stoked to be able to build a platform like this. It seems like you could build a great business around a platform like this. <a href="http://bandzoogle.com/">Bandzoogle</a> comes to mind.</p>

<p>We&rsquo;re less than halfway through gSchool now, but we&rsquo;ve learned many of the skills we&rsquo;ll need as Ruby on Rails developers. I&rsquo;m glad that we&rsquo;ll have time to practice these skills for the rest of the program. I think I&rsquo;ll feel very confident about what I&rsquo;m doing when we graduate in February. I shudder to think that if I had gone to a different bootcamp, I might be heading out into the job market right now. Although I can certainly build web apps now, I still have so much to learn. I&rsquo;m really glad to be at gSchool; the curriculum is excellent, my peers are supportive, hardworking, and smart, and my teachers are always willing to go the extra mile to help me figure things out.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/10/javascript-enlightenment/">JavaScript Enlightenment</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-10T21:30:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I read <a href="http://www.javascriptenlightenment.com/">JavaScript Enlightenment</a> by Cory Lindley over the weekend. It was the perfect thing for me right now, as an advanced beginner. It really breaks down all the parts of tha langauge in an understandable way. I feel like I get the &lsquo;big picture&rsquo; much better after having read it. Here are some notes I took along the way.</p>

<h1>Explanations</h1>

<h2>Objects</h2>

<p>In javascript, object is king.
An object is a set of properties with keys and values.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</span><span class='line'><span class="nx">myObject</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Ben</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">myObject</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Javascript’s Native Object Constructors</h2>

<p>These are the nine object constructors built into JavaScript:</p>

<ul>
<li>Number()</li>
<li>String()</li>
<li>Boolean()</li>
<li>Object()</li>
<li>Array()</li>
<li>Function()</li>
<li>Date()</li>
<li>RegExp()</li>
<li>Error()</li>
</ul>


<p>There’s also Math, which is not a constructor. It acts like an instantiated object.</p>

<p>Thus, you can do:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>But NOT:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myMath</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="k">new</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Contructors &amp; Instantiating With Constructors</h2>

<p>Every object can be built with a constructor. You instantiate the object with the ‘new’ keyword.</p>

<p>Here’s the syntax:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can also define your own constructors, like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>     <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span><span class='line'>     <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// People can be instantiated like this:</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">Ben</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="err">“</span><span class="nx">Ben</span><span class="err">”</span><span class="p">,</span> <span class="mi">29</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Object Literal Notation</h2>

<p>Instead of using the new keyword, you can create an object with the literal syntax:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">*</span><span class="kd">var</span> <span class="nx">myNumber</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span><span class='line'><span class="o">*</span><span class="kd">var</span> <span class="nx">myString</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="o">*</span><span class="kd">var</span> <span class="nx">myBoolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myArray</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myRegExp</span> <span class="o">=</span> <span class="sr">/.*/</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myError</span> <span class="o">=</span> <span class="p">(</span><span class="err">‘</span><span class="nx">crap</span><span class="o">!</span><span class="err">’</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>* These tjree literals do NOT return an object, but a Javascript primitive. Their constructors DO return objects.
A primitive is an irreducible value.
If they are later treated as an object, for example by calling a method on them, they are temporarily wrapped in an object.</p>

<h2>The Third Notation</h2>

<p>Another way to create a primitive (does not use the new keyword):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myNumber</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myString</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myBoolean</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Complex Objects</h2>

<p>Objects that contain multiple values, which can be primitives or other complex objects.
These are objects created created with the new keyword, or literal notation (and are NOT one of the primitives).</p>

<p>They are also known as “composite objects” or a “reference types”.
These objects store an address reference to an object.
If you copy them, the copies are also references to the same address.
Therefore, they will all mutate if the object is changed.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVarC</span> <span class="o">=</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="err">“</span><span class="nx">Ben</span><span class="err">”</span><span class="p">};</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myVarD</span> <span class="o">=</span> <span class="nx">myVarC</span><span class="p">;</span>
</span><span class='line'><span class="nx">myVarC</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="err">“</span><span class="nx">John</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myVarD</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="err">“</span><span class="nx">John</span><span class="err">&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Complex Objects - Native Properties</h2>

<h3>&lsquo;constructor&rsquo;</h3>

<p>In addition to their basic property keys, all instantiated objects have a property called &lsquo;constructor&rsquo;.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVarE</span> <span class="o">=</span> <span class="p">{</span><span class="nx">age</span><span class="o">:</span> <span class="mi">29</span><span class="p">};</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myVarE</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="nb">Object</span>
</span></code></pre></td></tr></table></div></figure>


<h3>&lsquo;instanceof&rsquo;</h3>

<p>The type of an instantiated object can be checked with &lsquo;instanceof&rsquo;.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">MyVarF</span> <span class="o">=</span> <span class="p">{</span><span class="nx">gender</span><span class="o">:</span> <span class="err">“</span><span class="nx">male</span><span class="err">”</span><span class="p">};</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myVarF</span> <span class="k">instanceof</span> <span class="nb">Object</span><span class="p">();)</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="nx">True</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Instance Properties</h3>

<p>Instances of a constructor can be given their own properties. This includes objects created from the nine native constructors, but does not include primitives.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVarG</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">();</span>
</span><span class='line'><span class="nx">myVarG</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="err">“</span><span class="nx">test</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myVarG</span><span class="p">.</span><span class="nx">prop</span><span class="p">);</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="err">“</span><span class="nx">test</span><span class="err">”</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVarH</span> <span class="o">=</span> <span class="err">“</span><span class="nx">hello</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">myVarH</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="err">“</span><span class="nx">world</span><span class="p">;</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myVarH</span><span class="p">.</span><span class="nx">prop</span><span class="p">);</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="kc">undefined</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Accessing Properties</h3>

<p>Dot notation vs. Bracket notation:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">myVarJ</span><span class="p">.</span><span class="nx">prop1</span> <span class="o">=</span> <span class="err">“</span><span class="nx">test</span><span class="err">”</span>
</span><span class='line'><span class="nx">myVarJ</span><span class="p">[</span><span class="err">‘</span><span class="nx">prop2</span><span class="err">’</span><span class="p">]</span> <span class="o">=</span> <span class="err">“</span><span class="nx">bar</span><span class="err">”</span>
</span></code></pre></td></tr></table></div></figure>


<p>Bracket notation has two advantages: it can be used to concatenate strings in the property name, and it can use reserved words.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// Dot Notation</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">str</span> <span class="mi">1</span> <span class="o">=</span> <span class="err">“</span><span class="nx">foo</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">str2</span> <span class="o">=</span> <span class="err">“</span><span class="nx">bar</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myVarK</span><span class="p">[</span><span class="nx">str1</span> <span class="o">+</span> <span class="nx">str2</span><span class="p">]</span> <span class="o">=</span> <span class="err">“</span><span class="nx">baz</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">myVarK</span><span class="p">.</span><span class="nx">foobar</span><span class="p">;</span>
</span><span class='line'><span class="o">=&gt;</span><span class="err">”</span><span class="nx">baz</span><span class="err">&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Bracket Notation</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myVarL</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="err">“</span><span class="nx">Algebra</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">myVarL</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">];</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="err">“</span><span class="nx">Algebra</span><span class="err">”</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Deleting Properties</h3>

<p>There is only only way to delete a property, which is to use the <em>delete</em> keyword.
Setting it to null or undefined will not remove it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">delete</span> <span class="nx">myVarL</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>hasOwnProperty()</h3>

<p>This method can be used to check if a property belongs to a given object. It may return false when an object&rsquo;s constructor does have the property; it only tells whether the object itself has the property.</p>

<h3>The Prototype Property</h3>

<p>All instances of a constructor contain this property. The properties of the &lsquo;prototype&rsquo; property itself are inherited by instances of the constructor.
Object.prototype is at the top of the inheritance chain, so all objects inherit from it. It is a very bad idea to change Object.prototype&rsquo;s properties.</p>

<h3>The &lsquo;in&rsquo; Keyword</h3>

<p>Checks for a property in an object. Similar to hasOwnProperty(), but it <em>does</em> look up the inheritance chain.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVar</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">];</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;toString&#39;</span> <span class="k">in</span> <span class="nx">myVar</span><span class="p">);</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Inheritance and Looping</h2>

<p>If you run a for/in loop on the properties of an object, it will return inherited properties unless you use a guard clause checking each property with hasOwnProperty().</p>

<h2>Host Objects</h2>

<p>These objects are provided by the JavaScript environment. Examples include &lsquo;window&rsquo; and &lsquo;document&rsquo; in the browser.</p>

<h2>The &lsquo;this&rsquo; Keyword</h2>

<p>The &lsquo;this&rsquo; keyword is available within the scope of a function, but it refers to the object which called the current function. It does not refer to the function itself, but its containing object.</p>

<p>&lsquo;this&rsquo; acts like any other variable, only it can&rsquo;t be modified.</p>

<p>In EcmaScript 3, calling &lsquo;this&rsquo; from a nested function referred to the Head Object. This was a serious mistake that was fixed in ES5. As a workaround, programmers used a variable &lsquo;that&rsquo; to keep track of the value of &lsquo;this&rsquo; inside of nested functions.</p>

<p>&lsquo;this&rsquo; can be overridden with call() and apply(), which redefine &lsquo;this&rsquo; to be their first parameter (the object they are targetting).</p>

<p>When using a constructor to create an instance, &lsquo;this&rsquo; refers to the object-to-be (the instance that has not yet been created). This pattern works for both properties and methods.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Scope</h2>

<p>There are three kinds of scope in JavaScript:</p>

<ol>
<li>Global Scope</li>
<li>Function Scope</li>
<li>Eval Scope</li>
</ol>


<p>There is no scope created by &lsquo;for&rsquo; or &lsquo;while&rsquo; loops, nor by &lsquo;if&rsquo;.</p>

<p>If a variable is declared without the keyword &lsquo;var&rsquo;, it is created in the global scope. This is to be avoided.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">myVar</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span> <span class="c1">// this is global</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myVar2</span> <span class="o">=</span> <span class="s2">&quot;world&quot;</span><span class="p">;</span> <span class="c1">// this is local</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Lexical Scoping</h3>

<p>Objects can look up the inheritance chain to find properties, functions, and methods, but they cannot look into their childrens&#8217; scopes. When looking for a value up the inheritance chain, the first found value is returned. Any values in higher scopes are &lsquo;shadowed&rsquo;, or &lsquo;masked&rsquo; by the value found in the lowest scope.</p>

<p>Priority of inheritance is defined in the definition (the code), not the state of objects at the time of invocation.</p>

<h2>Prototype</h2>

<p>Prototype is a property found in instances created by the Function() constructor. These functions can be used as constructors themselves.</p>

<p>Why should you care?</p>

<ol>
<li>Prototype is what the nine native constructors use to pass methods to their object children.</li>
<li>You can use prototypes to orchestrate inheritance.</li>
<li>You may inherit code that uses it.</li>
<li>It&rsquo;s efficient in that all instances of an object can share a method defined in only one place: the prototype object.</li>
</ol>


<p>The prototype property is basically a container (an object) for properties and methods you want instances of a given object to inherit. They will inherit the current value of the property (it is updated dynamically).</p>

<p>The values passed into prototype must be complex (not JavaScript primitives).</p>

<p>Instances of an object access the prototype&rsquo;s host object with their &lsquo;constructor&rsquo; property.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
</span><span class='line'><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">myArray</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// This is the same as line 4. The &#39;foo&#39; property is found by inheritance.</span>
</span><span class='line'><span class="nx">myArray</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>All objects have a common highest ancestor: Object.prototype. Overriding the &lsquo;prototype&rsquo; property on Object will break its functionality.</p>

<p><br/></p>

<hr />


<p><br/></p>

<h1>The Parts of JavaScript</h1>

<h2>The Head/Global Object</h2>

<p>This object represents the highest scope in a given JavaScript environment. In the browser, it is &lsquo;window&rsquo;. It contains ALL objects in the environment.</p>

<p>Global properties and variables are contained in the Head Object, and are accessible from any other scope through inheritance.</p>

<p>The Head Object can be referenced by referring to &lsquo;window&rsquo;, or using the keyword &lsquo;this&rsquo; from the global scope. Thus, its scope is implied from outside of a function.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// These mean the same thing:</span>
</span><span class='line'><span class="nx">alert</span><span class="p">();</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Global Functions</h3>

<p>These are provided by the environment.</p>

<ul>
<li>decodeURI()</li>
<li>decodeURIComponent()</li>
<li>encodeURI()</li>
<li>encodeURIComponent()</li>
<li>eval()</li>
<li>isFinite()</li>
<li>isNaN()</li>
<li>parseFloat()</li>
<li>parseInt()</li>
</ul>


<h2>Object()</h2>

<p>Gives an empty object container. Creating objects with a literal is the preferred syntax.</p>

<h3>Parameters</h3>

<p>Object() takes a parameter that is a value. It is null/undefined by default.</p>

<h3>Properties and Methods</h3>

<p>Note: ALL JavaScript objects inherit the following properties and methods from Object.prototype.</p>

<p>When defining property keys, one can use dot notation or bracket notation. Bracket notation is more flexible, because it allows for the use of concatenation and reserved words.</p>

<h4>Properties</h4>

<ul>
<li>prototype</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
</ul>


<h4>Instance Methods</h4>

<ul>
<li>hasOwnProperty()</li>
<li>isPrototypeOf()</li>
<li>propertyIsEnumerable()</li>
<li>toLocaleString()</li>
<li>toString()</li>
<li>valueOf()</li>
</ul>


<p><br /></p>

<h2>Function()</h2>

<p>Functions always return a value. This will be &lsquo;undefined&rsquo; if another return value is not specified.</p>

<p>Functions define a new scope. Variables within it cannot be seen from objects containing the function, but they <em>can</em> be seen by objects it contains. This is called &lsquo;lexical scoping&rsquo;.</p>

<p>There are three ways to define a new function:</p>

<ol>
<li>With the constructor: var myFunction = new Function(){};</li>
<li>With a literal, as an expression: var myFunction = function(){};</li>
<li>With a literal, as a statement: function myFunction(){};</li>
</ol>


<p>Functions are &lsquo;first class citizens&rsquo; in JavaScript. They are objects, they can be stored, they have properties, and they can be passed into other functions (higher-order functions).</p>

<h3>Invoking Functions</h3>

<p>Functions are invoked with (). This can be done in three ways:</p>

<ol>
<li>As a function - func();</li>
<li>As a method - when attached to an object - myVar.func();</li>
<li>Using apply() or call()</li>
<li>As a constructor:</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">Cody</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">cody</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Cody</span><span class="p">();</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">cody</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Anonymous Functions</h3>

<p>Functions not given an identifier are anonymous.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span><span class="p">(){};</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Self-Invoking Functions</h3>

<p>Functions that call themselves immediately upon definition. This doesn&rsquo;t work with the Function() constructor.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span>
</span><span class='line'><span class="p">}();</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Self-Invoking Anonymous Functions</h3>

<p>Functions with no identifier that immediately call themselves. These often wrap code to keep it from polluting the global object. Note that it must be wrapped in additional parentheses.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="c1">// code goes here</span>
</span><span class='line'><span class="p">})();</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Hoisting</h3>

<p>A function can be invoked before it is defined, because JavaScript collects the functions before runtime. This is called hoisting. It does not work with function expressions.</p>

<h3>Recursion</h3>

<p>Functions may call themselves while executing. This is called recursion.</p>

<h3>Parameters</h3>

<p>When creating a function with the constructor, the last param passed in becomes the inside of the function.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myFunction</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;return foo+bar&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can create a function with too few parameters. The missing ones will be treated as &lsquo;undefined.&rsquo;</p>

<p>You can also create a function with too many parameters. The extras will be ignored, although they are accessible from the &lsquo;arguments&rsquo; property.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>prototype</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
<li>length</li>
<li>arguments</li>
</ul>


<p>Arguments has a property &lsquo;callee&rsquo; that contains a reference to the function currently executing. This can be used in creating recursive functions.</p>

<p>Arguments also has a property &lsquo;length&rsquo;, containing the number of arguments at invocation. This property is being depricated in favor of arguments.callee.length.</p>

<p><br /></p>

<h4>Instance Methods</h4>

<ul>
<li>apply()</li>
<li>call()</li>
<li>toString()</li>
</ul>


<p><br /></p>

<h2>Array()</h2>

<p>A special type of object with a couple of extra functions.</p>

<h3>Parameters</h3>

<p>Any comma-separated parameters passed in will become elements in the array.
If a single integer is passed alone, it will define the length of the array instead of an element value. If you define a high index, the elements before it will be filled in with &lsquo;undefined&rsquo;. Setting an array&rsquo;s length can add or remove values automatically.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>prototype</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
<li>index</li>
<li>input</li>
<li>length</li>
</ul>


<h4>Instance Methods</h4>

<ul>
<li>pop()</li>
<li>push()</li>
<li>reverse()</li>
<li>shift()</li>
<li>sort()</li>
<li>splice()</li>
<li>unshift()</li>
<li>concat()</li>
<li>join()</li>
<li>slice()</li>
</ul>


<p><br/></p>

<h2>String()</h2>

<h3>Creating Strings</h3>

<p>This will create a string object.
It is best to avoid this syntax due to potential problems with typeof.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="c1">// constructor function</span>
</span></code></pre></td></tr></table></div></figure>


<p>These two create a primitive:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myString</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="c1">// without new keyword</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myString</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="c1">// literal</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Parameters</h3>

<p>Takes one parameter: the string value being created.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>prototype</li>
</ul>


<h4>Methods</h4>

<ul>
<li>fromCharChode()</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
<li>length</li>
</ul>


<h4>Instance Methods</h4>

<ul>
<li>charAt()</li>
<li>charCodeAt()</li>
<li>concat()</li>
<li>indexOf()</li>
<li>lastIndexOf()</li>
<li>localeCompare()</li>
<li>match()</li>
<li>quote()</li>
<li>replace()</li>
<li>search()</li>
<li>slice()</li>
<li>split()</li>
<li>substr()</li>
<li>substring()</li>
<li>toLocaleLowerCase()</li>
<li>toLocaleUpperCase()</li>
<li>toLowerCase()</li>
<li>toUpperCase()</li>
<li>valueOf()</li>
</ul>


<p><br /></p>

<h2>Number()</h2>

<h3>Creating Numbers</h3>

<p>This will create a number object.
It is best to avoid this syntax due to potential problems with typeof.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// constructor function</span>
</span></code></pre></td></tr></table></div></figure>


<p>These two create a primitive:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myNumber</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// without new keyword</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myNumber</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// literal</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Parameters</h3>

<p>Takes one parameter: the number value being created.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>MAX_VALUE</li>
<li>MIN_VALUE</li>
<li>NaN</li>
<li>NEGATIVE_INFINITY</li>
<li>POSITIVE_INFINITY</li>
<li>prototype</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
</ul>


<h4>Instance Methods</h4>

<ul>
<li>toExponential()</li>
<li>toFixed()</li>
<li>toLocaleString()</li>
<li>toPrecision()</li>
<li>toString()</li>
<li>valueOf()</li>
</ul>


<p><br /></p>

<h2>Boolean()</h2>

<h3>Creating Booleans</h3>

<p>This will create a boolean object.
It is best to avoid this syntax due to potential problems with typeof.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="c1">// constructor function</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">These</span> <span class="nx">two</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">primitive</span><span class="o">:</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myBoolean</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span> <span class="c1">// without new keyword</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myBoolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// literal</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Parameters</h3>

<p>Takes one parameter to be converted into a boolean.</p>

<p>The only false values are: 0, -0, null, false, NaN, undefined, and &ldquo;&rdquo;.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>prototype</li>
</ul>


<h4>Instance Properties</h4>

<ul>
<li>constructor</li>
</ul>


<h4>Instance Methods</h4>

<ul>
<li>toSource()</li>
<li>toString()</li>
<li>valueOf()</li>
</ul>


<h4>Notes</h4>

<p>If you create a false boolean object with a constructor, it creates an object. Objects convert to true. Thus do not use the constructor with false booleans.</p>

<p><br /></p>

<h2>Primitives: String, Number, and Boolean</h2>

<p>A primitive is an irreducible value.
The Primitives are: number, string, boolean, null, and undefined.</p>

<p>Primitives are stored in memory with their value:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">myVarA</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">myVarB</span> <span class="o">=</span> <span class="nx">myVarA</span><span class="p">;</span>
</span><span class='line'><span class="nx">myVarA</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">myVarA</span> <span class="o">===</span> <span class="mi">13</span><span class="p">;</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="kc">true</span>
</span><span class='line'><span class="nx">myVarB</span> <span class="o">===</span> <span class="mi">12</span><span class="p">;</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>It is best to write these using the literal form. Using a constructor will result in a typeof result of &ldquo;object&rdquo; instead of the actual type.</p>

<h3>Object Wrappers</h3>

<p>When you call a property or method on a primitive, it is wrapped in a temporary object.
The temporary object is discarded once the properties have been accessed.</p>

<p><br /></p>

<h2>Null</h2>

<p>Use null to indicate that an object property doesn&rsquo;t have a value.
It means that a value is expected but not yet available.
Calling typeof on it will return &lsquo;object&rsquo;. It is best to test for null with ===.</p>

<p><br /></p>

<h2>Undefined</h2>

<p>Used in two ways:</p>

<ul>
<li>Indicate that a variable has no assigned value.</li>
<li>Indicate that an object property you want to access is not defined or named, and can&rsquo;t be found in the prototype lookup chain.</li>
</ul>


<p>It is best to let JavaScript itself use undefined. Don&rsquo;t use it yourself.</p>

<p><br /></p>

<h2>Math</h2>

<p>This is a built-in, static object. It is not a constructor and cannot be instantiated.</p>

<h3>Properties and Methods</h3>

<h4>Properties</h4>

<ul>
<li>E</li>
<li>LN2</li>
<li>LN10</li>
<li>LOG2E</li>
<li>LOG10E</li>
<li>PI</li>
<li>SQRT1_2</li>
<li>SQRT2</li>
</ul>


<h4>Methods</h4>

<ul>
<li>abs()</li>
<li>acos()</li>
<li>asin()</li>
<li>atan()</li>
<li>atan2()</li>
<li>ceil()</li>
<li>cos()</li>
<li>exp()</li>
<li>floor()</li>
<li>log()</li>
<li>max()</li>
<li>min()</li>
<li>pow()</li>
<li>random()</li>
<li>sin()</li>
<li>sort()</li>
<li>tan()</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/08/getting-started-with-rails/">Getting Started With Rails</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-08T10:15:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week at gSchool, we&rsquo;re digging into our first major Rails project, <a href="http://tutorials.jumpstartlab.com/projects/dinner_dash.html">Dinner Dash</a>. It&rsquo;s been a challenging transition.</p>

<h2>Rails Challenges</h2>

<p>Although I know some Ruby, and I know how to drive development with tests, using Rails is a whole new ball game. There are so many new words! From ActiveRecord associations, to &ldquo;form_for&rdquo; and &ldquo;button_to&rdquo;, to strong params, there&rsquo;s a huge library of methods I don&rsquo;t know.</p>

<p>One particularly difficult challenge for me this week was figuring out how to properly use &ldquo;form_for&rdquo;. I was having a little trouble with forms and HTTP routes. I know how to write an update form like this in HTML:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/ideas&quot;</span> <span class="na">method=</span><span class="s">&#39;POST&#39;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;text&#39;</span> <span class="na">name=</span><span class="s">&#39;idea[title]&#39;</span> <span class="na">placeholder=</span><span class="s">&quot;Title&quot;</span> <span class="na">value=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;&lt;input/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;_method&quot;</span> <span class="na">value=</span><span class="s">&quot;PUT&quot;</span><span class="nt">&gt;&lt;input/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&#39;submit&#39;</span> <span class="na">value=</span><span class="s">&#39;Submit&#39;</span><span class="nt">&gt;&lt;input/&gt;</span>
</span><span class='line'><span class="nt">&lt;/form&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>But I was having a lot of trouble submitting PUT and DELETE verbs with &ldquo;form_for&rdquo; in Rails.</p>

<p>I was trying to create a form with some code like this, but it wasn&rsquo;t really working out:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">form_for</span> <span class="ss">:idea</span><span class="p">,</span> <span class="p">(</span><span class="ss">action</span><span class="p">:</span> <span class="ss">:put</span><span class="p">)</span><span class="sc">??</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;p&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:title</span> <span class="cp">%&gt;</span><span class="x">&lt;br&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:title</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;/p&gt;</span>
</span><span class='line'><span class="x">  &lt;p&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;%=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;/p&gt;</span>
</span><span class='line'><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Franklin eventually straigtened us out with a different approach, which he described as the &ldquo;Rails-y way&rdquo; to do it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Title&quot;</span><span class="p">,</span> <span class="n">ideas_path</span><span class="p">,</span> <span class="nb">method</span><span class="p">:</span> <span class="ss">:put</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>I assume there will be many more &ldquo;Rails-y&rdquo; idioms to learn in my near future.</p>

<h2>Organizing Our Workgroup</h2>

<p>My group for this project is comprised of four people: myself, Bree, Nikhil, and Tyler. So far, we&rsquo;ve been working really well together. We&rsquo;re using <a href="https://www.pivotaltracker.com">Pivotal Tracker</a> and <a href="https://campfirenow.com/">Campfire</a> (this is my first time for both) to drive our development and communication. I&rsquo;ve found it hard to get used to Pivotal Tracker. Although I enjoyed learning how to write epics and stories in <a href="https://github.com/cucumber/cucumber/wiki/Gherkin">Gherkin</a>, I&rsquo;m used to thinking through problems one step at a time in coding. Having to go back to the website and refer to what&rsquo;s in the &lsquo;Current&rsquo; or &lsquo;Icebox&rsquo; list interrupts my flow.</p>

<p>I&rsquo;m also not yet at the point of driving everything with <a href="https://github.com/jnicklas/capybara">Capybara</a>. Although we&rsquo;re testing our models before we implement them, we aren&rsquo;t doing any integration tests in advance. Maybe if we were to transform our Gherkin stories into Cucumber, it would be an easy transition. I&rsquo;m a little shy, though, since it always takes a while to get to know a new testing framework.</p>

<p>Here&rsquo;s one testing success, though: we&rsquo;ve integrated <a href="https://github.com/guard/guard">Guard</a> into our workflow. This is the first time any of us have used it successfully.</p>

<p>I&rsquo;m also trying to itegrate some of the lessons learned from <a href="http://www.therailsview.com/">The Rails View</a>, which I&rsquo;m currently reading. In this project, I&rsquo;m trying to take on a lot of responsibility for the view layer, because I don&rsquo;t feel strong in design and would like to get better. Here&rsquo;s our current view, four days in. Unfortunately, it&rsquo;s mostly Bootstrap. I&rsquo;m planning to shine it up a bit this weekend.</p>

<p><img src="http://s5.postimg.org/8g4kan24n/Ono_Burrito_Beta_Site.png" title="Ono Burrito" alt="Screenshot of a website in development"></p>

<h2>Coming Back to Rails</h2>

<p>Before gSchool, I did a few Rails tutorials online. Coming back to it now, after all the work we&rsquo;ve done with Ruby, hand-built model associations, and SQL, I feel very positive. I may not know what I&rsquo;m doing yet, but it&rsquo;s a lot easier to figure things out, now that I have a context for them. Categorizing confusing bits of code into categories comes much more quickly now. SQL, database tables, models, controllers, views, templates, Ruby expressions, Rails helpers&hellip;these ideas have a lot more meaning than they did before. This means I&rsquo;m able to bounce back from confusion much more quickly.</p>

<h2>Moving Forward</h2>

<p>I&rsquo;m excited to get up to speed in Rails. Our group was able to build out a complete restauarant site, with basic users and ordering functionality, all in the course of a few days. No wonder they say it&rsquo;s easy to get up and running quickly with Rails!</p>

<p>I&rsquo;ve also been working with my mentor (the most awesome Mike Pack) on building a basic API in Rails, as a service for a Backbone.js app on the front end. It will eventually be an online recipe book, with Facebook and Instagram integration. I&rsquo;m really excited to continue working on it.</p>

<h2>Wrapping Up</h2>

<p>I&rsquo;m feeling a little bit intimidated by Rails at the moment, because there&rsquo;s so much to learn. But I&rsquo;m not worried: I relish the challenge of learning how to use a new tool, which is one of the reasons I got into programming in the first place. Plus, there are so many quality resources out there for learning Rails, I&rsquo;m sure I&rsquo;ll be up to speed in no time.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/06/restful-archicture/">RESTful Architecture</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-06T06:11:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The gSchool students began our first big Rails project this week. We&rsquo;re building a restaurant site with online ordering. The project is called <a href="http://tutorials.jumpstartlab.com/projects/dinner_dash.html">Dinner Dash</a>.</p>

<p>In support of learning Rails, Jeff gave a talk on how RESTful Archecture should look in a Rails application. Here are my notes on what he said. I broke it down into CRUD (Create, Read, Update, Destroy) operations.</p>

<p>I&rsquo;ve shown the HTTP request verbs and routes and the controller methods that match them. It should be noted that GET will display request params in its URL, while POST requests will carry request params hidden in the body of the HTTP request.</p>

<p>For the examples, I used &lsquo;articles&rsquo; as a resource. For single records, I referred to an article with an id of 1, although many different ids would actually exist. I also assumed that strong params are defined in a method called &lsquo;article_params&rsquo; in the Articles Controller. These patterns came from the Jumpstart Lab <a href="tutorials.jumpstartlab.com/projects/blogger.html">Blogger Tutorial</a>.</p>

<p><br/></p>

<h2>Setting Up The Router</h2>

<p>In config/routes.rb:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">resources</span> <span class="ss">:articles</span>
</span></code></pre></td></tr></table></div></figure>


<p><br/></p>

<h2>Create</h2>

<h3>Creating A Single Record</h3>

<ul>
<li>GET &lsquo;/articles/new&rsquo; (displays the new article form)</li>
<li>POST &lsquo;/articles/new&rsquo;</li>
</ul>


<p>In app/controllers/articles_controller.rb:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>  <span class="vi">@article</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">article_params</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@article</span><span class="o">.</span><span class="n">save</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><br /></p>

<h2>Read</h2>

<h3>Reading Multiple Records</h3>

<ul>
<li>GET &lsquo;/articles&rsquo;</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="vi">@articles</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">all</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Reading A Single Record</h3>

<ul>
<li>GET &lsquo;/articles/1&rsquo;</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">show</span>
</span><span class='line'>  <span class="vi">@article</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><br /></p>

<h2>Update</h2>

<h3>Updating A Single Record</h3>

<ul>
<li>GET &lsquo;/articles/1/edit&rsquo; (displays the edit form)</li>
<li>PUT &lsquo;/articles/1&rsquo;</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">update</span>
</span><span class='line'>  <span class="vi">@article</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@article</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">article_params</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><br /></p>

<h2>Destroy</h2>

<h3>Deleting A Single Record</h3>

<ul>
<li>DELETE &lsquo;/articles/1&rsquo;</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">destroy</span>
</span><span class='line'>  <span class="vi">@article</span> <span class="o">=</span> <span class="no">Article</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@article</span><span class="o">.</span><span class="n">destroy</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><br/></p>

<h2>Search</h2>

<h3>Searching With A Filter</h3>

<ul>
<li>GET &lsquo;/articles?author_id=6&rsquo;</li>
</ul>


<h3>Saved Searches</h3>

<ul>
<li>POST &lsquo;/searches&rsquo; (creates the search)</li>
<li>GET &lsquo;/searches/12&rsquo; (accesses the saved search)</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/03/coffescript-notes/">CoffeeScript Notes</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-03T08:31:00-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve been digging into a lot of JavaScript lately, so I thought it would be worthwhile to read <a href="http:#%20arcturo.github.io/library/coffeescript/">The Little Book on CoffeeScript</a> by Alex MacCaw.</p>

<p>I took some notes as I went, and I thought I&rsquo;d share them here for easy reference.</p>

<p><br /></p>

<h2>Basic Syntax</h2>

<figure class='code'><figcaption><span>CoffeeScript - Basic Syntax</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="c1"># Functions</span>
</span><span class='line'><span class="nv">myFunction = </span><span class="nf">-&gt;</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="nx">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Functions with arguments</span>
</span><span class='line'><span class="nv">myFunction = </span><span class="nf">(arg) -&gt;</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="nx">function</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># No semicolons are needed in CoffeeScript(CS).</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Maintaining the context of &#39;this&#39; with the &#39;fat arrow&#39;</span>
</span><span class='line'><span class="nv">myFunction = </span><span class="nf">(arg) =&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Operators</span>
</span><span class='line'>
</span><span class='line'><span class="o">is</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="err">\</span><span class="o">===</span>
</span><span class='line'>
</span><span class='line'><span class="o">not</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="o">!</span>
</span><span class='line'>
</span><span class='line'><span class="o">isnt</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="o">!==</span>
</span><span class='line'>
</span><span class='line'><span class="o">and</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="o">&amp;&amp;</span>
</span><span class='line'>
</span><span class='line'><span class="o">or</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="o">||</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Single-line &quot;if&quot; statements</span>
</span><span class='line'><span class="k">if</span> <span class="nx">x</span> <span class="k">then</span> <span class="nx">y</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Splat operator</span>
</span><span class='line'><span class="p">(</span><span class="err">…</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># For loops</span>
</span><span class='line'><span class="nx">myFunction</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="k">for</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">array</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># While loops</span>
</span><span class='line'><span class="k">while</span> <span class="nx">num</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Alias for prototype</span>
</span><span class='line'><span class="nx">Bob</span><span class="o">::</span><span class="nx">hey</span>
</span><span class='line'><span class="c1"># Translates to:</span>
</span><span class='line'><span class="nx">Bob</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hey</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Executing functions immediately with the keyword do</span>
</span><span class='line'><span class="nv">type = </span><span class="nx">do</span> <span class="nf">-&gt;</span>
</span><span class='line'><span class="c1"># Code is then private and cannot be accessed in the future.</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Chained comparison syntax</span>
</span><span class='line'><span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="nx">c</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Null Checks</span>
</span><span class='line'><span class="nx">blackKnight</span><span class="p">.</span><span class="nx">getLegs</span><span class="p">()</span><span class="o">?</span><span class="p">.</span><span class="nx">kick</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Won’t call kick() if getLegs is false.</span>
</span><span class='line'><span class="nx">blackKnight</span><span class="p">.</span><span class="nx">getLegs</span><span class="p">().</span><span class="nx">kick</span><span class="o">?</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Won’t call kick() if kick() is null or not a function.</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Ruby-Like Features</h2>

<figure class='code'><figcaption><span>CoffeeScript - Ruby-Like Features</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="c1"># Declaring a variable</span>
</span><span class='line'><span class="nv">string = </span><span class="s">&quot;Foo bar baz&quot;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Inline &quot;if&quot; statments</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="kc">true</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># &quot;unless&quot; statments</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;Hello, world!&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="kc">false</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># “==“ converts to “===“, “!=“ converts to “!==“</span>
</span><span class='line'><span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span>
</span><span class='line'><span class="c1"># Evaluates as &quot;1 === 2&quot;</span>
</span><span class='line'><span class="mi">1</span> <span class="o">!=</span> <span class="mi">2</span>
</span><span class='line'><span class="c1"># Evaluates as &quot;1 !== 2&quot;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># String Interpolation</span>
</span><span class='line'><span class="nv">code = </span><span class="s">&quot;Hello&quot;</span>
</span><span class='line'><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">“</span><span class="c1">#{code}, world!”)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Defining an object literal without curly brackets</span>
</span><span class='line'><span class="nv">obj = one: </span><span class="mi">1</span><span class="p">,</span> <span class="nv">two: </span><span class="mi">2</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Conditional assignment operator</span>
</span><span class='line'><span class="nx">variable</span> <span class="o">||=</span> <span class="mi">2</span>
</span><span class='line'><span class="c1"># Is the same as:</span>
</span><span class='line'><span class="nx">variable</span> <span class="o">or=</span><span class="mi">2</span>
</span><span class='line'><span class="c1"># You can also use:</span>
</span><span class='line'><span class="nx">variable</span> <span class="o">?=</span> <span class="mi">2</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Instance variable</span>
</span><span class='line'><span class="nx">@snake</span>
</span><span class='line'><span class="c1"># Evaluates to:</span>
</span><span class='line'><span class="k">this</span><span class="p">.</span><span class="nx">snake</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Ranges</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">5</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Slice</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">][</span><span class="mi">0</span><span class="p">..</span><span class="mi">1</span><span class="p">]</span> <span class="nf">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</span><span class='line'><span class="c1"># Or:</span>
</span><span class='line'><span class="err">“</span><span class="nx">my</span> <span class="nx">string</span><span class="err">”</span><span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">4</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Checking Content</span>
</span><span class='line'><span class="nx">arr</span> <span class="p">[</span><span class="err">“</span><span class="nx">a</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">b</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">c</span><span class="err">”</span><span class="p">];</span> <span class="err">“</span><span class="nx">a</span><span class="err">”</span> <span class="k">in</span> <span class="nx">arr</span>
</span><span class='line'><span class="c1"># Returns true.</span>
</span><span class='line'><span class="c1"># Like Ruby #include?</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Existential Operator</span>
</span><span class='line'><span class="nx">praise</span> <span class="k">if</span> <span class="nx">brian</span><span class="o">?</span>
</span><span class='line'><span class="c1">#  Only returns false for null or undefined (*NOT* for “” or 0).</span>
</span><span class='line'><span class="c1">#  Like .nil? in Ruby.</span>
</span><span class='line'><span class="c1">#  Can also be used for ||.</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Classes</h2>

<figure class='code'><figcaption><span>CoffeeScript - Classes</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="c1"># Declaring Classes</span>
</span><span class='line'><span class="k">class</span> <span class="nx">Animal</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Instantiating Classes</span>
</span><span class='line'><span class="nv">animal = </span><span class="k">new</span> <span class="nx">Animal</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Instantiating Classes With Instance Variables</span>
</span><span class='line'><span class="nv">constructor: </span><span class="nf">(arg) -&gt;</span>
</span><span class='line'><span class="vi">@name = </span><span class="nx">name</span>
</span><span class='line'><span class="c1"># Or the shorthand:</span>
</span><span class='line'><span class="nv">contructor: </span><span class="nf">(@arg) -&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># Inheritance</span>
</span><span class='line'><span class="k">class</span> <span class="nx">Parrot</span> <span class="k">extends</span> <span class="nx">Animal</span>
</span><span class='line'><span class="c1"># In Ruby, this would be: class Parrot &lt; Animal</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Enumerables</h2>

<figure class='code'><figcaption><span>CoffeeScript - Enumerables</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="c1"># each</span>
</span><span class='line'><span class="nx">myFunction</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="k">for</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">array</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># each with index</span>
</span><span class='line'><span class="k">for</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">names</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># map</span>
</span><span class='line'><span class="nv">result = </span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">name</span> <span class="k">for</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># select</span>
</span><span class='line'><span class="nv">result = </span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">name</span> <span class="k">for</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">array</span> <span class="k">when</span> <span class="nx">item</span><span class="p">.</span><span class="nx">name</span> <span class="o">==</span> <span class="err">“</span><span class="nx">test</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># includes</span>
</span><span class='line'><span class="nv">included = </span><span class="err">“</span><span class="nx">a</span> <span class="nx">long</span> <span class="nx">test</span> <span class="nx">string</span><span class="err">”</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="err">“</span><span class="nx">test</span><span class="err">”</span><span class="p">)</span> <span class="nx">isn</span><span class="err">’</span><span class="nx">t</span> <span class="o">-</span><span class="mi">1</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># iterating</span>
</span><span class='line'><span class="nx">alert</span><span class="p">(</span><span class="err">“</span><span class="c1">#{key}#{value}) for key, value of object</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1"># min/max</span>
</span><span class='line'><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2312</span><span class="p">,</span> <span class="mi">42</span><span class="p">]</span><span class="err">…</span> <span class="nf">=&gt;</span> <span class="mi">2312</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Bad Parts</h2>

<figure class='code'><figcaption><span>CoffeeScript - Bad Parts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nb">eval</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Executes a piece of Javascript code in local scope. Throws complier off.</span>
</span><span class='line'><span class="c1"># Insecure: this opens code for injection attacks.</span>
</span><span class='line'><span class="c1"># Instead of:</span>
</span><span class='line'><span class="nv">model= </span><span class="nb">eval</span><span class="p">(</span><span class="nx">modelName</span><span class="p">)</span>
</span><span class='line'><span class="c1"># Use:</span>
</span><span class='line'><span class="nv">model = </span><span class="nb">window</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">typeof</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Only useful to check if something is undefined, otherwise results are inconsistent.</span>
</span><span class='line'><span class="c1"># Instead of:</span>
</span><span class='line'><span class="k">typeof</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
</span><span class='line'><span class="c1"># Use:</span>
</span><span class='line'><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Use duck typing with existential operator to try using an object whose type you don’t know.</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">instanceof</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Broken, like typeof(). Avoid use.</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">delete</span>
</span><span class='line'><span class="c1"># Can be used safely to remove properties within objects, but not to delete functions or variables.</span>
</span><span class='line'><span class="c1"># Assign them to null instead.</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nb">parseInt</span><span class="p">()</span>
</span><span class='line'><span class="c1"># Pass it a base to ensure it works as expected.</span>
</span><span class='line'><span class="nb">parseInt</span><span class="p">(</span><span class="err">‘</span><span class="nx">num</span><span class="err">’</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Good Parts</h2>

<ul>
<li>Semicolons - don’t need them in CoffeeScript!</li>
<li>Global variables - CS automatically declares var to prevent them!</li>
<li>Reserved words - CS automatically escapes them!</li>
<li>Type coercion - CS turns &ldquo;==&rdquo; into &ldquo;===&rdquo;</li>
<li>Declarative functions - although you can call a function before it’s defined in JS, CS removes this problematic behavior.</li>
<li>Number property lookups - in JS, &ldquo;.&rdquo; gets interpreted as a decimal. In CS it gets changed to &ldquo;..&rdquo;, to access a property.</li>
<li>Linting - CS has built in linting, which can be called with
&ldquo;coffee lint index.coffee&rdquo;</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/11/01/clone-wars/">Clone Wars</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-11-01T09:15:00-06:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week, our assignment in gSchool was to rip an existing website from a local business, rebuild the site using Sinatra on the back end, and add a Content Managament System (CMS) so the site owner could login and edit the site. The project was called <a href="http://tutorials.jumpstartlab.com/projects/clone_wars.html">Clone Wars</a>. I was grouped with classmates Luke Martinez and Antony Siegert. We chose to rip <a href="http://thebikedepot.org/">The Bike Depot</a>. Since we never got our site pushed up to Heroku, but here is a screenshot of our CMS:</p>

<p><img src="http://s5.postimg.org/n4h93oltz/Screen_Shot_2013_11_01_at_9_20_51_AM.png" title="The Bike Depot CMS" alt="A website with a Content Management System"></p>

<h2>What I Learned</h2>

<p>Although I already felt pretty comfortable with Sinatra and HTTP requests before we began Clone Wars, I also learned quite a bit along the way.</p>

<p>This was the first project where we were really able to use a database, so I got some good practice using the Sequel gem to talk to sqlite3. I posted a summary of Sequel methods on <a href="http://fluxusfrequency.github.io/blog/2013/10/26/sequel-gem-methods/">a post</a> earlier this week. Clone Wars was a good chance to practice accessing the database through class objects, like this:</p>

<figure class='code'><figcaption><span>page_store.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;sequel&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">PageStore</span>
</span><span class='line'>  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</span><span class='line'>      <span class="n">page_table</span><span class="o">.</span><span class="n">insert</span><span class="p">({</span>
</span><span class='line'>        <span class="s2">&quot;title&quot;</span> <span class="o">=&gt;</span> <span class="n">page</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;body&quot;</span> <span class="o">=&gt;</span> <span class="n">page</span><span class="o">.</span><span class="n">body</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;url&quot;</span> <span class="o">=&gt;</span> <span class="n">page</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
</span><span class='line'>        <span class="p">})</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span class='line'>      <span class="n">result</span> <span class="o">=</span> <span class="n">page_table</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">:id</span> <span class="o">=&gt;</span> <span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">last</span>
</span><span class='line'>      <span class="no">Page</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
</span><span class='line'>        <span class="p">{</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="n">result</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;body&quot;</span> <span class="o">=&gt;</span> <span class="n">result</span><span class="o">[</span><span class="ss">:body</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;title&quot;</span> <span class="o">=&gt;</span> <span class="n">result</span><span class="o">[</span><span class="ss">:title</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;url&quot;</span> <span class="o">=&gt;</span> <span class="n">result</span><span class="o">[</span><span class="ss">:url</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>        <span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="n">attributes</span><span class="p">)</span>
</span><span class='line'>      <span class="n">found</span> <span class="o">=</span> <span class="n">find_by_url</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</span><span class='line'>      <span class="n">new_page</span> <span class="o">=</span> <span class="no">Page</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">found</span><span class="o">.</span><span class="n">to_h</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">attributes</span><span class="p">))</span>
</span><span class='line'>      <span class="n">delete</span><span class="p">(</span><span class="n">found</span><span class="p">)</span>
</span><span class='line'>      <span class="n">save</span><span class="p">(</span><span class="n">new_page</span><span class="p">)</span>
</span><span class='line'>      <span class="n">new_page</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</span><span class='line'>      <span class="n">page_table</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">:url</span> <span class="o">=&gt;</span> <span class="n">page</span><span class="o">.</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">delete</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">delete_all</span>
</span><span class='line'>      <span class="n">page_table</span><span class="o">.</span><span class="n">delete</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">database</span>
</span><span class='line'>      <span class="k">if</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;RACK_ENV&#39;</span><span class="o">]</span> <span class="o">==</span> <span class="s1">&#39;test&#39;</span>
</span><span class='line'>        <span class="vi">@database</span> <span class="o">||=</span> <span class="no">Sequel</span><span class="o">.</span><span class="n">sqlite</span><span class="p">(</span><span class="s1">&#39;./test.sqlite3&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">else</span>
</span><span class='line'>        <span class="vi">@database</span> <span class="o">||=</span> <span class="no">Sequel</span><span class="o">.</span><span class="n">sqlite</span><span class="p">(</span><span class="s1">&#39;./clone_wars.sqlite3&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">page_table</span>
</span><span class='line'>      <span class="n">database</span><span class="o">[</span><span class="ss">:pages</span><span class="o">]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I also had a great time using the Mechanize gem to rip the html files from the original site. We split the head, header, navbar, and footer sections off into a layout file, and sticking a &lt;%= yield %> tag in its body, then scraped the main content of each page on the site and rendered it as a partial.</p>

<figure class='code'><figcaption><span>scraper.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;nokogiri&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;open-uri&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;fileutils&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">urls</span> <span class="o">=</span> <span class="o">[</span>
</span><span class='line'><span class="s1">&#39;http://thebikedepot.org/&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;http://thebikedepot.org/index.php/about&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;http://thebikedepot.org/index.php/about/mission-vision-and-values&#39;</span>
</span><span class='line'><span class="c1"># etc...</span>
</span><span class='line'><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">urls</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">url</span><span class="o">|</span>
</span><span class='line'>  <span class="n">page</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
</span><span class='line'>  <span class="n">body</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s2">&quot;div#content-w2&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">title</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">to_s</span>
</span><span class='line'>  <span class="no">FileUtils</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="s2">&quot;./scraped/</span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="s2">.html&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;./scraped/</span><span class="si">#{</span><span class="n">title</span><span class="si">}</span><span class="s2">.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
</span><span class='line'>    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally, I got some practice using the FileUtils library to hand write a database migration. If I had to do it again, I&rsquo;d use a Rake task, but it was fun to hack it together this way. Given a directory of erb files, I collected their filenames, html bodies, and routes, combined them into hashes, and inserted them into the database with this:</p>

<figure class='code'><figcaption><span>database_populater.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;fileutils&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;sequel&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">titles</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">pgs</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">urls</span> <span class="o">=</span> <span class="o">[</span>
</span><span class='line'><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;/programs/bike-camp&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;/programs/bike-rodeo&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;/bike-shop&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;/about/staff-board/17-about/staff-board/43-bill-davis&#39;</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;/about/staff-board/17-about/staff-board/7-board&#39;</span>
</span><span class='line'><span class="c1"># etc...</span>
</span><span class='line'><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">database</span> <span class="o">=</span> <span class="no">Sequel</span><span class="o">.</span><span class="n">sqlite</span><span class="p">(</span><span class="s1">&#39;clone_wars.sqlite3&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="no">Dir</span><span class="o">[</span><span class="s2">&quot;./lib/app/views/*.erb&quot;</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
</span><span class='line'>  <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/.erb/</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/\.\/lib\/app\/views\//</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="n">titles</span> <span class="o">&lt;&lt;</span> <span class="n">filename</span>
</span><span class='line'>  <span class="n">pgs</span> <span class="o">&lt;&lt;</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">pgs</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">page</span><span class="p">,</span> <span class="n">i</span><span class="o">|</span>
</span><span class='line'>  <span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="n">titles</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span> <span class="ss">:body</span> <span class="o">=&gt;</span> <span class="n">pgs</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span> <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="n">urls</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'>  <span class="n">database</span><span class="o">.</span><span class="n">from</span><span class="p">(</span><span class="ss">:pages</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">hash</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Confusing Parts</h2>

<p>One part of this project that was really confusing was an inital misstep I made: trying to convert all of the scraped html files into Ruby Slim. I mechanized the process of converting them with an <a href="http://html2slim.herokuapp.com/">html-to-slim</a> conversion website, but there were way too many problems with the resulting files. I ended up wasting several hours going through this process before scrapping it.</p>

<h2>Acceptance Tests</h2>

<p>I still feel unsure about acceptance tests and Capybara. Although I know how to get started, I have trouble using it for TDD. Here&rsquo;s what I started with:</p>

<figure class='code'><figcaption><span>acceptance_test.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;./test/helpers/acceptance_helper.rb&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;./lib/clone_wars&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;./lib/app&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">BikeCoopAppTest</span> <span class="o">&lt;</span> <span class="no">Minitest</span><span class="o">::</span><span class="no">Test</span>
</span><span class='line'>  <span class="kp">include</span> <span class="no">Capybara</span><span class="o">::</span><span class="no">DSL</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">app</span>
</span><span class='line'>    <span class="vi">@app</span> <span class="o">||=</span> <span class="no">BikeCoopApp</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">test_it_exists</span>
</span><span class='line'>    <span class="n">visit</span> <span class="s1">&#39;/&#39;</span>
</span><span class='line'>    <span class="n">assert</span> <span class="n">page</span><span class="o">.</span><span class="n">has_content?</span><span class="p">(</span><span class="s2">&quot;Bike Depot&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">assert</span> <span class="n">page</span><span class="o">.</span><span class="n">has_content?</span><span class="p">(</span><span class="s2">&quot;Home&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">test_it_has_a_login_link</span>
</span><span class='line'>    <span class="n">visit</span> <span class="s1">&#39;/&#39;</span>
</span><span class='line'>    <span class="n">click_on</span> <span class="s1">&#39;#admin&#39;</span>
</span><span class='line'>    <span class="n">assert</span> <span class="n">page</span><span class="o">.</span><span class="n">has_content?</span><span class="p">(</span><span class="s2">&quot;Login&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">assert</span> <span class="n">page</span><span class="o">.</span><span class="n">has_content?</span><span class="p">(</span><span class="s2">&quot;Username:&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This was probably a good start, but I also feel like I have to test <em>everything</em>, and get overwhelmed. In this case, I didn&rsquo;t want to test all of the interactions from the scraped pages, because everything already fit together. When building someone else&rsquo;s site, Capybara seems superfluous. On the other hand, when I used it with a site I was building from scratch (<a href="http://ideabox-flux.herokuapp.com/">IdeaBox</a>), I was annoyed that the test would break whenever I changed my mind about the layout. I spoke to Katrina Owen about it, and she suggested only using acceptance tests for parts of the site that you are going to have to test repeatedly anyway, rather than every single route.</p>

<p>I&rsquo;m going to keep working on the practice of Capybara, because I believe deeply that TDD is the best way to go. This project was unsuccessful in this regard, but it&rsquo;s been a valuable learning experience, and will surely change the way I test my future projects.</p>

<h2>If I Had More Time&hellip;</h2>

<p>If I had more time for this project, I would have build a better CMS that displayed the text to be edited in either markdown or something like <a href="http://ckeditor.com/">CK Editor</a>, rather than raw html, to provide a better user experience for the site administrator.</p>

<h2>Working In A Trio</h2>

<p>Working in a three person group was much different than working solo or pairing. I really enjoyed having other minds working on the same problem, seeing solutions that I might not have considered. Both Luke and Antony were very positive about screensharing and mobbing. We practiced some &lsquo;dummy keyboard&rsquo; and &lsquo;navigator&rsquo; approaches, both of which worked really well. I also really enjoyed being able to split up and work on separate features of the project, because it was a load off my shoulders compared to IdeaBox, where I had to build all of the features myself. One thing that was challenging about working in a trio was being unable to move forward until a certain task was done. For example, we couldn&rsquo;t write any classes until we got the test environment set up correctly. It was also hard to slow down and explain my thinking at each step, rather than just blasting through everything. But this process was probably good for me. I tend to work through problems internally, and being able to process out loud will be a valuable soft skill to have down the road when I begin working as a professional developer.</p>

<h2>Final Thoughts</h2>

<p>In retrospect, I wasn&rsquo;t a huge fan of the Clone Wars project. I would prefer to create something new, rather than take an existing layout and add a wrapper to it. However, I was pretty stimulated by some aspects of the project: using mechanize, sequel, and a full fledged database. I&rsquo;m looking forward to starting Rails next week, and getting even deeper into working with ORM patterns and small groups.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/blog/2013/10/29/javascript-in-the-browser/">Javascript in the Browser</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2013-10-29T19:33:00-06:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Having done many Javascript tutorials and read many Javascript books, I was hoping that I would be better at using the language by now. Since I still had very little clue of how to incorporate JS into developing websites, I decided to reread Chapters 9-11 in Marijn Haverbeke&rsquo;s <a href="http://www.amazon.com/Eloquent-JavaScript-Modern-Introduction-Programming/dp/1593272820/ref=sr_1_1?ie=UTF8&amp;qid=1383098181&amp;sr=8-1&amp;keywords=eloquent+javascript">Eloquent Javascript</a> (which I highly recommend). These chapters, entitled Web Programming: A Crash Course, The Document Object Model, and Browser Events, respectively, cover the use of Javascript in the browser.</p>

<p>I took notes as I read, and decided to share them here for reference.</p>

<p><br /></p>

<h2>The Window Object</h2>

<p>This is the global object in the context a browser.</p>

<h3>Window#open(&ldquo;url&rdquo;)</h3>

<p>Opens a popup.
e.g.: var popup = window.open(‘www.google.com’);</p>

<h3>Window#close</h3>

<p>Closes a window.
e.g.: popup.close</p>

<p><br /></p>

<h2>The Document Object</h2>

<p>This property of the window represents the document within the window.</p>

<h3>Document#location#href</h3>

<p>Displays information about the current URL. Use this by having a script call it while document is being loaded, causing the written HTML to be inserted into the page.</p>

<h3>Document#write()</h3>

<p>Write something (perhaps a variable) to the place in the page where this script is run.</p>

<h3>Document#getElementById(‘id’)</h3>

<p>Accesses the node with the given id, which can then be edited.</p>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">picture</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="err">“</span><span class="nx">picture</span><span class="err">”</span><span class="p">);</span>
</span><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="err">“</span><span class="nx">img</span><span class="o">/</span><span class="nx">bird</span><span class="p">.</span><span class="nx">png</span><span class="err">”</span>
</span><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="err">“</span><span class="nx">img</span><span class="o">/</span><span class="nx">ostrich</span><span class="p">.</span><span class="nx">png</span><span class="err">”</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Document#createElement(“div”)</h3>

<p>Creates an element of the given type.
e.g.: header = document.createElement(“H1”);
title = document.createTextNode(“My Title”);</p>

<h3>Document#createTextNode(“text”)</h3>

<p>Creates some text. It should then be appended with:
header.appendChild(title);
document.body.appendChild(header);</p>

<p><br /></p>

<h2>Elements</h2>

<h3>Element#onclick</h3>

<p>Accesses the element when it is clicked.</p>

<h3>Element#focus</h3>

<p>Tells the window to focus on the given element when the code is executed.</p>

<p><br /></p>

<h2>Nodes</h2>

<h3>Element#nodeType</h3>

<p>Returns a number: 1 for regular nodes or 3 for text nodes.</p>

<h3>Document#body#firstChild#nodeName;</h3>

<p>e.g.: “H1”</p>

<h3>Document#body#firstChild#nodeValue;</h3>

<p>e.g.: “Chapter 1: Equipment”</p>

<h3>Document#node#innerHTML = “<p>text</p>”;</h3>

<p>Allows you to replace the text in the specified node.</p>

<h3>Node#appendChild(child)</h3>

<p>Puts the specified child inside the node.</p>

<h3>Node#parentNode#removeChild(node)</h3>

<p>Removes the node from the document.</p>

<h3>Node#setAttribute(“tag”, “attr”)</h3>

<p>Sets attributes on a node.</p>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">newImage</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="err">“</span><span class="nx">IMG</span><span class="err">”</span><span class="p">);</span>
</span><span class='line'><span class="nx">newImage</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="err">“</span><span class="nx">src</span><span class="err">”</span><span class="p">,</span> <span class="err">“</span><span class="nx">img</span><span class="o">/</span><span class="nx">yinyang</span><span class="p">.</span><span class="nx">png</span><span class="err">”</span><span class="p">);</span>
</span><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">newImage</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Node#getAttribute(“attr”)</h3>

<p>Gets the specified attribute from the node.
e.g.:newImage.getAttribute(“src”);
=>”img/yinyang.png”;</p>

<h3>Node#style</h3>

<p>Accesses the CSS styling for the given node, which can then be set.</p>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">borderwidth</span> <span class="o">=</span> <span class="err">“</span><span class="mi">4</span><span class="nx">px</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="err">“</span><span class="nx">none</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="err">“</span><span class="nx">absolute</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="nx">picture</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="err">“</span><span class="mi">400</span><span class="nx">px</span><span class="err">”</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p><br /></p>

<h2>Event Handlers</h2>

<h3>Node#attachEvent(event, function)</h3>

<p>Attaches a function to an event, such “on click”, or “charCode” || “keyCode” (the || is used to cover different browsers).</p>

<h3>Node#addEventListener(event, function, boolean)</h3>

<p>Same thing as Node#attachEvent, but for older browsers. The boolean indicates it will bubble up through DOM normally rather than taking priority.</p>

<h3>Node#detachEvent</h3>

<p>Opposite of #attachEvent.</p>

<h3>Node#removeEventListener</h3>

<p>Opposite of #addEventListener.</p>

<h3>Event Handling For All Browsers</h3>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">registerEventHandler</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>     <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">node</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="o">===</span> <span class="err">“</span><span class="kd">function</span><span class="err">”</span><span class="p">)</span>
</span><span class='line'>     <span class="nx">node</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">handler</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>     <span class="nx">node</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="err">“</span><span class="nx">on</span><span class="err">”</span> <span class="o">+</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">handler</span><span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>e.g.: registerEventHandler(button, “click”, function(){print(“click2”);});</p>

<h3>function unregisterEventHandler</h3>

<p>Opposite of registerEventHandler.</p>

<h3>Internet Explorer</h3>

<p>This pattern is sometimes used for Internet Explorer:
event = event || window.event;</p>

<p><br /></p>

<h2>Forms</h2>

<h3>encodeURIComponent(string)</h3>

<p>Applies escapes to the string to make it a legal URI.</p>

<h3>decodeURIComponent(encodedURI)</h3>

<p>Transforms an encoded URI back into a string.</p>

<h3>Document#forms</h3>

<p>Links to all forms on the page.
e.g.: document.forms.userinfo will access the user info form.</p>

<h3>Form#action</h3>

<p>e.g.: “url”</p>

<h3>Form#method</h3>

<p>e.g.: “GET”</p>

<h3>Form#elements</h3>

<p>Accesses one of the elements in the form.
e.g.: formName.elements.name.value = “Eugene”; would set the name field to that name.</p>

<h3>Form#submit</h3>

<p>Manually submits the form to the server.</p>

<h3>Checking form validity:</h3>

<ol>
<li> Change input “submit” into “button”.</li>
<li> Access the form with formName = document.forms.htmlformname.</li>
<li> Check the form method and action by calling formName.method and formName.action.</li>
<li> Check the elements using formName.elements.name, etc.</li>
<li> Write a function to check inputs like so:</li>
</ol>


<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">validInfo</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="k">return</span> <span class="nx">form</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">value</span> <span class="o">!=</span> <span class="err">“”</span> <span class="o">&amp;&amp;</span>
</span><span class='line'><span class="sr">/email_verification_regex/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">form</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>  Then set the button’s onClick event like so:</p>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">formName</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">send</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>     <span class="k">if</span> <span class="p">(</span><span class="nx">validInfo</span><span class="p">(</span><span class="nx">formName</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">formName</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
</span><span class='line'>     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">alert</span><span class="p">(</span><span class="err">“</span><span class="nx">Invalid</span> <span class="nx">email</span><span class="err">”</span><span class="p">);</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p><br /></p>

<h2>Time</h2>

<h3>new Date()</h3>

<p>Creates a new date object</p>

<h3>Date#Gethours()</h3>

<p><br /></p>

<h3>Date#getMinutes()</h3>

<p><br /></p>

<h2>Timers</h2>

<h3>Window#setTimeOut(function(), ms)</h3>

<p>Calls the function in the first argument after the milliseconds have elapsed.</p>

<figure class='code'><figcaption><span>example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">loacation</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="err">“</span><span class="o">/</span><span class="nx">spoiler</span><span class="p">.</span><span class="nx">html</span><span class="err">”</span><span class="p">;</span>
</span><span class='line'><span class="p">},</span> <span class="mi">5000</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>This would redirect to spoiler if the user did nothing for 5 seconds.</p>

<h3>Window#clearTimeOut</h3>

<p>Cancels a timeout.</p>

<h3>Window#setInterval(function, ms)</h3>

<p>Runs the function every time n milliseconds elapse.</p>

<p><br /></p>

<h2>Navigator</h2>

<h3>Navigator#userAgent</h3>

<p>Shows the name of the browser being used.</p>

<h3>Navigator#vendor</h3>

<p>Shows the vendor of the browser.</p>

<h3>Navigator#platform</h3>

<p>Shows info about the computer being used. This can be useful to find out what the browser is and run code specific to that browser (IE6, Chrome, etc).</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="5">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="3">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/07/seven-unusual-ruby-datastores/">Seven Unusual Ruby Datastores</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/01/integrating-react-with-backbone/">Integrating React With Backbone</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/26/understanding-rack-apps-and-middleware/">Understanding Rack Apps and Middleware</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/12/deploying-and-customizing-applications-on-engine-yard/">Deploying and Customizing Applications on Engine Yard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/01/serving-custom-json-from-your-rails-api-with-activemodel-serializers/">Serving Custom JSON From Your Rails API With ActiveModel::Serializers</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 -  Ben Lewis <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> + <a href="https://github.com/ioveracker/mnml">mnml</a>.
	  
  </span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
